<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Convertisseur S2P RI → S2P DB</title>
  <link rel="stylesheet" href="../style/s2p_dB_converter.css">
</head>
<body>
  <div class="page">

    <header class="band header-band" role="banner">
      <a id="btnHome" class="home-btn" href="../index.html">HUB</a>
      <div class="container">
        <div class="title-block">
          <h1>Convertisseur S2P — RI → DB</h1>
          <p class="lead">Colle un fichier <code>.s2p</code> (ou glisse-dépose). Le script détecte l'entête (# ... S RI ...) et convertit chaque paire Re/Im en Magnitude (dB) & Angle (°). Résultat prêt à copier ou télécharger.</p>
        </div>
      </div>
    </header>

    <section class="band params-band" aria-label="Paramètres de conversion">
      <div class="container">

        <div class="params-row">
          <div class="param">
            <label for="inputFormatHint">Format attendu (entrée)</label>
            <select id="inputFormatHint" class="control" title="Indique le format d'entrée si non présent dans le fichier">
              <option value="auto" selected>Auto (détecter depuis le fichier)</option>
              <option value="RI">RI (Re / Im)</option>
              <option value="MA">MA (Mag / Angle)</option>
              <option value="DB">DB (dB / Angle)</option>
            </select>
          </div>

          <div class="param" style="align-self:flex-end">
            <button id="btnConvert" class="btn btn-primary" title="Convertir">Convertir en S (DB)</button>
          </div>

          <div class="param" style="align-self:flex-end">
            <button id="btnClear" class="btn btn-ghost" title="Effacer">Effacer</button>
          </div>

          <div class="param status-param" aria-live="polite">
            <div id="status">— prêt —</div>
          </div>
        </div>

        <div class="input-stack two-column">
          <div class="panel input-panel" aria-label="Zone d'entrée (colle ici)">
            <div class="panel-title">Entrée (Colle ici ou glisse-dépose)</div>
            <textarea id="inputArea" class="fixed-box monospace-box" wrap="off" placeholder="Colle le contenu d'un .s2p — entête attendu: #  Hz  S   RI  R   50"></textarea>
            <div class="small-muted">Astuce : tu peux déposer un fichier via drag & drop.</div>
          </div>

          <div class="panel preview-panel" aria-label="Aperçu et résultat">
            <div class="panel-title">Aperçu & Résultat</div>

            <div class="panel-sub">
              <div id="previewBox" class="fixed-box table-box" tabindex="0" aria-live="polite">
                <div class="empty small-muted">Aucun fichier analysé</div>
              </div>
            </div>

            <div class="panel-sub small">
              <div class="sub-title">Fichier .s2p (DB) généré</div>
              <div id="outputBox" class="fixed-box table-box" tabindex="0" aria-live="polite">
                <div class="empty small-muted">Aucun fichier converti</div>
              </div>

              <div style="display:flex;gap:8px;margin-top:8px;">
                <button id="btnCopy" class="btn">Copier</button>
                <button id="btnDownload" class="btn btn-primary">Télécharger .s2p</button>
              </div>
            </div>
          </div>
        </div>

      </div>
    </section>

    <section class="band plot-band" aria-label="Aide & détails">
      <div class="container">
        <div class="panel">
          <div class="panel-title">Notes</div>
          <div class="small-muted">Le convertisseur gère les formats d'entrée RI / MA / DB (détecte automatiquement si l'entête commence par <code>#</code>), et rassemble les lignes de données découpées (continuations indentées). La sortie est en format <code># Hz S DB R 50</code> avec angles en degrés.</div>
        </div>
      </div>
    </section>

  </div>

  <script defer src="../javascript/s2p_dB_converter.js"></script>
</body>
</html>
